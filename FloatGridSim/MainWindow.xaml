<Window x:Class="FloatGridSim.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:FloatGridSim"
        Title="Float Grid Simulation" Height="720" Width="1080" Background="#111318">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <DockPanel Margin="8" LastChildFill="False">
      <Button x:Name="StartBtn" Content="Start" Click="StartBtn_Click" Margin="0,0,8,0" Padding="14,6"/>
      <Button x:Name="PauseBtn" Content="Pause" Click="PauseBtn_Click" Margin="0,0,8,0" Padding="14,6"/>
      <Button Content="Reset" Click="Reset_Click" Margin="0,0,8,0" Padding="14,6"/>

      <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,16,0">
        <TextBlock Text="Speed(iters/tick):" Foreground="#D6D6D6" VerticalAlignment="Center" Margin="0,0,6,0"/>
        <TextBox x:Name="SpeedBox" Text="1" Width="72" Margin="0,0,8,0"/>
        <Button Content="Apply Speed" Click="ApplySpeed_Click" Padding="14,6" Margin="0,0,8,0"/>
      </StackPanel>

      <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,16,0">
        <TextBlock Text="Run until:" Foreground="#D6D6D6" VerticalAlignment="Center" Margin="0,0,6,0"/>
        <TextBox x:Name="RunUntilBox" Text="1000000" Width="100" Margin="0,0,8,0"/>
        <Button Content="Run Until N" Click="RunUntil_Click" Padding="14,6" Margin="0,0,8,0"/>
        <Button Content="Cancel Until" Click="CancelUntil_Click" Padding="14,6"/>
      </StackPanel>

      <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,16,0">
        <TextBlock Text="Trail stride:" Foreground="#D6D6D6" VerticalAlignment="Center" Margin="0,0,6,0"/>
        <TextBox x:Name="StrideBox" Text="1" Width="60" Margin="0,0,8,0"/>
        <Button Content="Apply Stride" Click="ApplyStride_Click" Padding="14,6"/>
      </StackPanel>
      
      <CheckBox x:Name="AutoZoomBox" Content="Auto zoom" IsChecked="True" Margin="0,0,12,8" VerticalAlignment="Center" Foreground="#D6D6D6"/>
    </DockPanel>

    <local:DrawingSurface x:Name="Surface" Grid.Row="1"
                          Focusable="True"
                          Background="#0B0D10"
                          MouseWheel="Surface_MouseWheel"
                          MouseLeftButtonDown="Surface_MouseLeftButtonDown"
                          MouseLeftButtonUp="Surface_MouseLeftButtonUp"
                          MouseMove="Surface_MouseMove"/>

    <StatusBar Grid.Row="2" Background="#0B0D10" Foreground="#D6D6D6">
      <StatusBarItem>
        <StackPanel Orientation="Horizontal" Margin="0,0,24,0">
          <Rectangle Width="14" Height="14" Fill="#FF7A2F" Stroke="#FF7A2F" VerticalAlignment="Center" Margin="0,0,6,0"/>
          <TextBlock Text="Z" VerticalAlignment="Center"/>
          <TextBlock Text="  " Width="8"/>
          <Rectangle Width="14" Height="14" Fill="#1E90FF" Stroke="#1E90FF" VerticalAlignment="Center" Margin="0,0,6,0"/>
          <TextBlock Text="V" VerticalAlignment="Center"/>
        </StackPanel>
      </StatusBarItem>

      <StatusBarItem>
        <TextBlock x:Name="InfoText" Margin="0,0,24,0"/>
      </StatusBarItem>
      <StatusBarItem>
        <TextBlock x:Name="DistText" Margin="0,0,24,0"/>
      </StatusBarItem>
      <StatusBarItem>
        <TextBlock x:Name="MinDistText" Margin="0,0,24,0"/>
      </StatusBarItem>
      <StatusBarItem>
        <TextBlock x:Name="IterText" Margin="0,0,24,0"/>
      </StatusBarItem>
      <StatusBarItem>
        <TextBlock x:Name="ZoomText" Margin="0,0,24,0"/>
      </StatusBarItem>
      <StatusBarItem>
        <TextBlock x:Name="SpeedText" Margin="0,0,0,0"/>
      </StatusBarItem>
    </StatusBar>
  </Grid>
</Window>
